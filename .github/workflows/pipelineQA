name: Java QA
 
on:
  pull_request:
    branches: [ "QA" ]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Set up JDK 11
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'temurin'
    - name: Executando programa em DEV
      run: 
        javac src/Exercicio1.java -d out
    - name: Ambiente
      run: echo ESTAMOS EM QA!!
  - name: Publicando no Docker 
    uses: mr-smithers-excellent/docker-build-push@v6.4
    with:
      image: liviavgomes/praticando_PilhaQA 
      tags: ${{github.run_number}}
      registry: docker.io 
      dockerfile: dockerfile
      username: ${{secrets.dockeruser}} 
      password: ${{secrets.dockerpwd}}
